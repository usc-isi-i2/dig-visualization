<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link href="css/nv.d3.css" rel="stylesheet">


  <script src="Scripts/jquery.js"></script>
  <script src="Scripts/angular.js"></script>
  <script src="Scripts/d3.min.js"></script>
  <script src="Scripts/d3.v3.js"></script>
  <script src="Scripts/elasticsearch.js"></script>
  <script src="Scripts/nameQuery.js"></script>
  <script src="Scripts/numberDateQuery.js"></script>
  <script src="Scripts/valueQuery.js"></script>
  <script src="Scripts/appName.js"></script>
  <script src="Scripts/sparkline.js"></script>
  <script src="Scripts/require.js"></script>

  <script src="Scripts/bower_components/elasticsearch/elasticsearch.js"></script>

  <script>

    require.config({
    paths: {
        d3: "Scripts/d3.v3",
        d3Tip: 'Scripts/bower_components/d3-tip/index',
        nvd3: "Scripts/nv.d3.min",
        moment: "Scripts/bower_components/moment/moment"
    },
    shim: {
        nvd3: {
          exports: 'nv',
          deps: ['d3.global']
        },
        d3Tip: ['d3']
    }
    });
    define("d3.global", ["d3"], function(_) {
      d3 = _;
    });
    require(["Scripts/main"], function () {})
  </script>

  <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, #bar-graph, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
        .jqstooltip {
          -webkit-box-sizing: content-box;
          -moz-box-sizing: content-box;
          box-sizing: content-box;
        }
    </style>

  <title>ElasticSearch Visualizations</title>
</head>
<body ng-app="D3Graphics" ng-controller="MainCtrl">
 <!-- <div id="pieChart"></div>-->


 <!-- Navigation -->

 <div id="page-wrapper" >
  <div class="container-fluid">

   <div class="row">
    <div class="col-lg-4">
      <form role="form">
        <div class = "well well-sm">
          <div class="form-group">
            <label>Search string</label>
            <input type="text" ng-model= "query" class="form-control" id="query"></input>
          </div>   
          <input  type="button" class="btn btn-default" ng-click="callSubmit()" value="Submit" id="formsubmit"/>
         <button class="btn btn-default" type="reset" id="formreset">Reset</button>
        </div>
      </form>
    </div>
  </div>
  <br/>
  <div class="row">
      <div ng-repeat="phoneNumber in phoneNumbers">
        <div class="col-lg-4">  
          <a href="phonePage.html?number={{phoneNumber.number}}">{{phoneNumber.number}}</a>
           <pie-chart id="pieChart-{{phoneNumber.number}}" dispVal = "State - " idVal="{{phoneNumber.number}}" valueQuery="mainEntity.availableAtOrFrom.address.addressRegion"  number="{{phoneNumber.number}}"></pie-chart>
           <pie-chart id="pieChart-{{$index}}" idVal="{{$index}}" dispVal = "Age - " valueQuery="mainEntity.itemOffered.personAge"  number="{{phoneNumber.number}}"></pie-chart>
           <line-chart id="lineChart-{{$index}}" idVal="{{$index}}"   number="{{phoneNumber.number}}"></line-chart>
        </div>
      </div>
  </div>
  <!-- /.row -->
  </div>
  <!-- /.container-fluid -->
</div>
<!-- /#page-wrapper -->
<div id="bar-graph">
  <div>
  </div>
  <svg></svg>
</div>





</body>


</html>
